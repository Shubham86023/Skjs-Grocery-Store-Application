<!DOCTYPE html>
<html class="no-js" lang="en" xmlns="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Welcome | Skjs Grocery Store</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet"/>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Cairo:400,600,700&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Poppins:600&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400i,700i" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&amp;display=swap" rel="stylesheet"/>
    <link href="assets/productImages/favicon.png" rel="shortcut icon" type="image/x-icon"/>
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/animate.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/nice-select.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/slick.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/style.css" rel="stylesheet" type="text/css"/>

    <th:block th:insert="~{themes}"></th:block>
    <link href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<style>
    .nice-select {
      width: 180px;
      right: 70px !important;
    }
    .search_button {
      width: 60px !important;
    }
    a {
      text-decoration: auto !important;
    }
    .block1_links {
      font-family: "Cairo";
      color: #7faf51 !important;
      font-size: 20px !important;
      text-decoration: underline !important;
    }
    .block1_links:hover {
      color: #e73918 !important;
      text-decoration: none !important;
    }
    .tbl_head {
      font-weight: 700;
    }
    .row {
      display: block;
    }
    .live-info {
      width: auto;
    }
    .dashboard_heading {
      text-align: center;
      letter-spacing: 2px;
      font-weight: 600;
      color: #e73918;
      width: 100%;
    }
    hr {
      border-top: 2px solid;
    }
    .dashboard_title {
      border-bottom: 1px solid lightgrey;
    }
    .x_panel_inner {
      padding: 10px 15px;
      border: 1px solid lightgray;
    }
    h3 {
      margin-top: 10px;
    }
    .dashboard_title h3 {
      margin-top: 0px;
      color: #7faf51;
      font-weight: 700;
    }
    .x_panel:hover {
      box-shadow: rgb(45 45 45 / 5%) 0px 2px 2px, rgb(49 49 49 / 5%) 0px 4px 4px, rgb(42 42 42 / 5%) 0px 8px 8px, rgb(32 32 32 / 5%) 0px 16px 16px, rgb(49 49 49 / 5%) 0px 32px 32px;
    }
    .cont_box {
      background-color: #f0f0f0;
      margin-top: 20px;
    }
</style>
<body class="biolife-body">
<!-- HEADER -->
<!-- row1 -->
<header class="header-area style-01 layout-03" id="header">
    <div th:insert="~{header_section1}"></div>
    <!-- row2 -->
    <div th:insert="~{header}"></div>
</header>

<!-- Page Contain -->
<div class="page-contain">
    <!-- Main content -->
    <div class="main-content" id="main-content">
        <!--Block 02: Product Tab-->
        <div class="product-tab z-index-20 sm-margin-top-150px">
            <div class="container cont_box">
                <div class="row">
                    <nav class="navbar navbar-expand-lg" style="justify-content: center">
                        <div class="biolife-tab biolife-tab-contain">
                            <div class="tab-head tab-head__icon-top-layout icon-top-layout"
                                 style="justify-content: center">
                                <ul class="tabs md-margin-bottom-35-im xs-margin-bottom-40-im"
                                    style="margin-bottom: 0 !important">
                                    <li class="tab-element">
                                        <a class="block1_links" href="/catalogue"><span class="biolife-icon"></span>Catalogue
                                            & Inventory Management</a>
                                    </li>
                                    <li class="tab-element">
                                        <a class="block1_links" href="/ordersReceived"><span
                                                class="biolife-icon"></span>Manage Orders</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
            <div class="container cont_box">
                <div class="row">
                    <div class="x_title">
                        <h1 class="dashboard_heading">Business DASHBOARD</h1>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <hr/>
                <div class="row" style="margin: 0px; text-align: center">
                    <div class="col-sm-3 col-md-3 col-xs-3">
                        <div class="x_panel" style="background: white">
                            <div class="x_panel x_panel_inner">
                                <div class="x_title dashboard_title">
                                    <h3>Revenue Generated</h3>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-xs-12">
                                        <h3 th:text="${revenueGenerated} == null ? '0.0':${revenueGenerated}"></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-md-3 col-xs-3">
                        <div class="x_panel" style="background: white">
                            <div class="x_panel x_panel_inner">
                                <div class="x_title dashboard_title">
                                    <h3>Orders Served</h3>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-xs-12">
                                        <h3 th:text="${orderServed}"></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-md-3 col-xs-3">
                        <div class="x_panel" style="background: white">
                            <div class="x_panel x_panel_inner">
                                <div class="x_title dashboard_title">
                                    <h3>Orders Pending</h3>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-xs-12">
                                        <h3 style="color: red" th:text="${pendingOrders}"></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr/>
                <div class="row" style="margin: 0px; text-align: center">
                    <div class="col-sm-3 col-md-3 col-xs-3">
                        <div class="x_panel" style="background: white">
                            <div class="x_panel x_panel_inner">
                                <div class="x_title dashboard_title">
                                    <h3>Products Net Amount</h3>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-xs-12">
                                        <h3 th:text="${totalAmount}"></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-md-3 col-xs-3">
                        <div class="x_panel" style="background: white">
                            <div class="x_panel x_panel_inner">
                                <div class="x_title dashboard_title">
                                    <h3>Products Count</h3>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-xs-12">
                                        <h3 th:text="${totalProducts}"></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-md-3 col-xs-3">
                        <div class="x_panel" style="background: white">
                            <div class="x_panel x_panel_inner">
                                <div class="x_title dashboard_title">
                                    <h3 style="margin-bottom: 0px">Under Stock Products</h3>
                                    <small>(Less than 5 units left.)</small>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-xs-12">
                                        <h3 style="color: red" th:text="${lowStockProducts}"></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-md-3 col-xs-3">
                        <div class="x_panel" style="background: white">
                            <div class="x_panel x_panel_inner">
                                <div class="x_title dashboard_title">
                                    <h3>Incomplete Products</h3>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12 col-md-12 col-xs-12">
                                        <h3 style="color: red" th:text="${incompleteProducts}"></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr/>
            </div>
        </div>
    </div>
</div>
<!-- FOOTER -->
<div style="margin-top: 50px" th:insert="~{footer}"></div>

<!--Footer For Mobile-->
<div th:insert="~{footer_section1}"></div>

<!-- Scroll Top Button -->
<a class="btn-scroll-top"><i class="biolife-icon icon-left-arrow"></i></a>

<script src="assets/js/jquery-3.4.1.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/jquery.countdown.min.js"></script>
<script src="assets/js/jquery.nice-select.min.js"></script>
<script src="assets/js/jquery.nicescroll.min.js"></script>
<script src="assets/js/slick.min.js"></script>
<script src="assets/js/biolife.framework.js"></script>
<script src="assets/js/functions.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
        src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha256-xLD7nhI62fcsEZK2/v8LsBcb4lG7dgULkuXoXB/j91c="
        src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>

<script type="text/javascript">
    var table;
    $(document).ready(function () {
      table = $("#product_list").DataTable();

      $(document).on("click", ".deletebtn", function () {
        var pid = $(this).attr("cid");
        var confirmation = confirm("Are you sure You want To Delete This Product?");
        if (confirmation) {
          $.ajax({
            url: "/deleteProduct",
            type: "POST",
            data: {
              pid: pid,
            },
            success: function (result) {
              if (result) {
                $('[cid="' + pid + '"]')
                  .closest("tr")
                  .remove();
              } else {
              }
            },
          });
        }
      });
    });
</script>
</body>
</html>
